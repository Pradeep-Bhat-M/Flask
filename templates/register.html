{% extends "layout.html" %}

{% block title %}
    Register
{% endblock %}

{% block main %}
<style>
    @import url('https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css');
    body{
        margin:0;
        padding:0;
        font-family:sans-serif;
        /* background:url("static/form.jpg") no-repeat; */
        background-size:cover;
    }
</style>


<br>
<div class="container">
    <div class="login1-box">
        <div class="row">
            <div class="col-md-6 login-left" >
              <h2 style="font-family: 'Josefin Sans', sans-serif;">Sign up </h2>
                  <form name="registerForm" onsubmit="return(validate());" method="post">
                    <div class="form-group">
                          <label style="font-family:'Exo 2', sans-serif;">Username</label>
                          <input type="text" name="username" class="form-control"required>
                      </div>
                      <div class="form-group">
                        <label style="font-family:'Exo 2', sans-serif;">E-mail</label>
                        <input type="email" name="email" class="form-control"required>
                    </div>
                      <div class="form-group">
                          <label style="font-family:'Exo 2', sans-serif;">Password</label>
                          <input type="password" name="password" class="form-control"required>
                      </div>
                      <div class="form-group">
                        <label style="font-family:'Exo 2', sans-serif;">Confirm Password</label>
                        <input type="password" name="c_password" class="form-control"required>
                    </div>
                    <p id="errorText" style="color: red;">
                        
                    </p>
                      <button type="submit" class="btn btn-primary" style="margin: 5% auto;" style="font-family:'Exo 2', sans-serif;">Sign up</button> <br> <br>
                      <!-- <a href="#" style="color: red;" >Forgot Password?</a> -->
               </form>
                  
          </div>
        </div>
        </div>
</div>
<br>
<br>
<br>
<!-- <script scr="/static/script.js"></script>  -->

<script>
    function validate(e) {

        //Email varification
        var emailID = document.registerForm.email.value;
        atpos = emailID.indexOf("@");
        dotpos = emailID.lastIndexOf(".");

        if (atpos < 1 || (dotpos - atpos < 2)) {
            document.getElementById("errorText").innerHTML = "Please enter correct email ID !";
            document.registerForm.email.focus();
            return false;
        }

        //username varification
        var username = document.registerForm.username.value;
        var patt1 = /\W/g;
        var result = username.search(patt1);
        if (result != -1) {
            document.getElementById("error_text").innerHTML = "Username sholud not contain any special character except '_' !";
            document.registerForm.username.focus();
            return false;
        }

        //password strength checking
        var password1 = document.registerForm.password.value;
        if (password1.length < 8) {
            document.getElementById("errorText").innerHTML = "Password sholud contain atleast 8 letter!";
            document.registerForm.password.focus();
            return false;
        }

        var pat = /[0-9]/g
        if (!password1.match(pat)) {
            document.getElementById("errorText").innerHTML = "Password sholud contain atleast a Digit!";
            document.registerForm.password.focus();
            return false;
        }

        var pat2 = /[a-z]/g
        if (!password1.match(pat2)) {
            document.getElementById("errorText").innerHTML = "Password sholud contain atleast One Lower case letter!";
            document.registerForm.password.focus();
            return false;
        }

        var pat3 = /[A-Z]/g
        if (!password1.match(pat3)) {
            document.getElementById("errorText").innerHTML = "Password sholud contain atleast One Uppercase character letter!";
            document.registerForm.password.focus();
            return false;
        }

        var pat4 = /\W/g;
        var pat5 = /_/g;
        if (!(password1.match(pat4) || password1.match(pat5))) {
            document.getElementById("errorText").innerHTML = "Password sholud contain atleast One special character!";
            document.registerForm.password.focus();
            return false;
        }

        var password2 = document.registerForm.c_password.value;
        if (password1 != password2) {
            document.getElementById("errorText").innerHTML = "Password did not match !";
            document.registerForm.c_password.focus();
            return false;
        }
    }
</script>
{% endblock %} 